---
title: "[Querydsl] ì¼€ì´ìŠ¤(Case)"
date: 2024-01-17 00:00:00 +0900
categories: [Backend, Querydsl]
tags: [querydsl, case]
render_with_liquid: false
future: true
---

# **QueryDSL - Case: ë°ì´í„°ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•˜ê¸°**

ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ QueryDSLì—ì„œ ì œê³µí•˜ëŠ” **`case`** í‘œí˜„ì‹ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. **`case`**ëŠ” ë°ì´í„°ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•´ì•¼ í•  ë•Œ ì‚¬ìš©ë˜ë©°, ê°„ë‹¨í•œ ì„¤ëª…ê³¼ í•¨ê»˜ ë‹¤ì–‘í•œ **`case`** í‘œí˜„ì‹ì˜ ì‚¬ìš© ì˜ˆì‹œ ì½”ë“œë¥¼ ì‚´í´ë´…ì‹œë‹¤.

## âœ…**`case` í‘œí˜„ì‹ì´ë€?**

---

**`case`** í‘œí˜„ì‹ì€ SQLì—ì„œ ì¡°ê±´ì— ë”°ë¼ ê°’ì„ ë‹¤ë¥´ê²Œ ë°˜í™˜í•˜ëŠ” êµ¬ë¬¸ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. QueryDSLì—ì„œë„ ì´ì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ **`case`**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## âœ…**`case` ì‚¬ìš©í•˜ê¸°**

---

### **ê°„ë‹¨í•œ `case` í‘œí˜„ì‹**

```java
javaCopy code
List<String> results = new JPAQueryFactory(entityManager)
    .select(member.age
        .when(10).then("10ëŒ€")
        .when(20).then("20ëŒ€")
        .otherwise("ê¸°íƒ€"))
    .from(member)
    .fetch();

```

ìœ„ ì½”ë“œì—ì„œëŠ” **`age`** ì»¬ëŸ¼ì˜ ê°’ì´ 10ì´ë©´ "10ëŒ€", 20ì´ë©´ "20ëŒ€", ê·¸ ì™¸ì—ëŠ” "ê¸°íƒ€"ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

### **ë³µì¡í•œ `case` í‘œí˜„ì‹**

```java
javaCopy code
List<String> results = new JPAQueryFactory(entityManager)
    .select(
        new CaseBuilder()
            .when(member.age.lt(20)).then("10ëŒ€ ë¯¸ë§Œ")
            .when(member.age.between(20, 29)).then("20ëŒ€")
            .when(member.age.between(30, 39)).then("30ëŒ€")
            .otherwise("ê¸°íƒ€")
    )
    .from(member)
    .fetch();

```

ìœ„ ì½”ë“œì—ì„œëŠ” **`age`** ì»¬ëŸ¼ì˜ ê°’ì— ë”°ë¼ ë‹¤ì–‘í•œ ì¡°ê±´ì„ ì‚¬ìš©í•˜ì—¬ ë°˜í™˜ê°’ì„ ì„¤ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤.

## âœ…**`case`ë¥¼ í™œìš©í•œ ë™ì  ì¿¼ë¦¬**

---

**`case`**ë¥¼ í™œìš©í•˜ë©´ ë™ì ì¸ ì¿¼ë¦¬ë¥¼ ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### **ì˜ˆì‹œ ì½”ë“œ**

```java
javaCopy code
BooleanBuilder builder = new BooleanBuilder();

// ì¡°ê±´ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ì¿¼ë¦¬ ì‘ì„±
if (condition1) {
    builder.and(member.age.gt(20));
}

if (condition2) {
    builder.and(member.name.like("í™ê¸¸ë™%"));
}

List<Member> results = new JPAQueryFactory(entityManager)
    .selectFrom(member)
    .where(builder)
    .fetch();

```

ìœ„ ì½”ë“œì—ì„œëŠ” **`case`**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì ì¸ ì¡°ê±´ì„ ë¹Œë”ë¥¼ í™œìš©í•´ ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“Œ**ì£¼ì˜ì‚¬í•­ê³¼ íŒ**

---

- **`case`** í‘œí˜„ì‹ì€ ë³µì¡í•œ ì¡°ê±´ì„ ê°„ê²°í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆìœ¼ë‚˜, ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•˜ê²Œ ì‚¬ìš©í•  ê²½ìš° ê°€ë…ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë™ì  ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ë•Œ **`case`**ë¥¼ í™œìš©í•˜ë©´ ê°€ë…ì„±ì´ ë†’ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë³µì¡í•œ ì¡°ê±´ì´ë‚˜ ë™ì ì¸ ì¿¼ë¦¬ì— ëŒ€í•´ì„œëŠ” í•„ìš”ì— ë”°ë¼ **`case`** í‘œí˜„ì‹ì„ í™œìš©í•˜ì—¬ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.