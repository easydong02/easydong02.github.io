---
title: "[Docker] 도커 이미지 관리"
date: 2024-08-18 00:00:00 +0900
categories: [Infra, Docker]
tags: [docker, container, vm, install, run, image]
render_with_liquid: false
---

## ✅도커 이미지 관리: 효율적인 이미지 활용을 위한 필수 가이드

지난 시간에는 도커 설치와 실행 방법을 알아보았습니다. 이제 도커를 사용하여 개발 환경을 구축하고 애플리케이션을 배포하려면, 도커 이미지를 효율적으로 관리하는 방법을 익혀야 합니다. 오늘은 도커 이미지를 가져오고, 살펴보고, 저장하고, 공유하는 방법에 대해 자세히 알아보겠습니다.

### ☑️도커 이미지 가져오기 (Pull)

도커 이미지는 Docker Hub라는 중앙 저장소에서 가져올 수 있습니다. `docker pull` 명령어를 사용하면 원하는 이미지를 로컬 환경으로 가져올 수 있습니다.

Bash

`docker pull [이미지 이름]:[태그]`

- 이미지 이름: 가져올 이미지의 이름을 지정합니다.
- 태그: 이미지의 특정 버전을 나타내는 태그를 지정합니다. 생략하면 `latest` 태그가 기본으로 사용됩니다.

예를 들어, `ubuntu` 이미지의 최신 버전을 가져오려면 다음과 같이 입력합니다.

Bash

`docker pull ubuntu`

만약 특정 버전의 이미지를 가져오려면 태그를 명시해야 합니다. 예를 들어, `ubuntu` 이미지의 18.04 버전을 가져오려면 다음과 같이 입력합니다.

Bash

`docker pull ubuntu:18.04`

### ☑️도커 이미지 살펴보기

이미지를 가져온 후에는 `docker image inspect` 명령어를 사용하여 이미지의 상세 정보를 확인할 수 있습니다.

Bash

`docker image inspect [이미지 이름]:[태그]`

이 명령어를 실행하면 이미지의 ID, 생성 날짜, 크기, 레이어 정보, 환경 변수 등 다양한 정보를 JSON 형식으로 출력합니다. 특정 정보만 확인하고 싶다면 `--format` 옵션을 사용할 수 있습니다. 예를 들어, 이미지의 운영체제 정보만 확인하려면 다음과 같이 입력합니다.

Bash

`docker image inspect --format='{{.Os}}' [이미지 이름]:[태그]`

### ☑️도커 이미지 저장하고 공유하기

**1. 이미지 저장 (Save)**

로컬에 저장된 이미지를 파일로 저장하려면 `docker image save` 명령어를 사용합니다.

Bash

`docker image save [이미지 이름]:[태그] > [파일 이름].tar`

저장된 파일은 다른 환경에서 `docker image load` 명령어를 사용하여 불러올 수 있습니다. 이미지 파일의 크기를 줄이기 위해 `gzip` 또는 `bzip2`와 같은 압축 도구를 함께 사용할 수 있습니다.

**2. 이미지 공유 (Push)**

Docker Hub와 같은 이미지 저장소에 이미지를 공유하려면 먼저 로그인해야 합니다.

Bash

`docker login`

로그인 후에는 `docker image tag` 명령어를 사용하여 이미지에 새로운 이름(저장소 이름/이미지 이름:태그)을 부여합니다.

Bash

`docker image tag [기존 이미지 이름]:[태그] [새로운 이미지 이름]:[태그]`

마지막으로 `docker push` 명령어를 사용하여 이미지를 저장소에 업로드합니다.

Bash

`docker push [저장소 이름]/[이미지 이름]:[태그]`

**3. 프라이빗 레지스트리**

Docker Hub 외에도 직접 프라이빗 레지스트리를 구축하여 이미지를 관리하고 공유할 수 있습니다. 프라이빗 레지스트리를 사용하면 중요한 이미지를 안전하게 보관하고, 팀 내부에서만 공유할 수 있습니다.

### ☑️도커 이미지 삭제하기

불필요한 이미지는 `docker image rm` 또는 `docker rmi` 명령어를 사용하여 삭제할 수 있습니다.

Bash

`docker image rm [이미지 이름]:[태그]`

여러 이미지를 한 번에 삭제하거나, 특정 이미지만 제외하고 삭제하는 등 다양한 옵션을 사용할 수 있습니다.

📌**주의 사항:** 이미지를 삭제하기 전에 해당 이미지를 사용하는 컨테이너가 없는지 확인해야 합니다.실행 중인 컨테이너가 있다면 먼저 컨테이너를 중지하고 삭제해야 이미지를 삭제할 수 있습니다.
